def test_split():
    date_str = "2026-01-08"
    
    # Simulate content generated by main.py
    holdings_section = f"\n# ğŸ“Š æŒä»“åˆ†ææ—¥æŠ¥ ({date_str})\n\nSome content for holdings..."
    candidates_section = f"\n# ğŸ¯ ä»Šæ—¥é€‰è‚¡å‚è€ƒ ({date_str}) (AIç²¾é€‰)\n\nSome content for candidates..."
    
    full_md = "MARKET_SECTION\n" + holdings_section + candidates_section
    
    print(f"Original MD:\n{full_md}\n")
    
    # Simulate web_server.py logic
    parts = {"market": "", "holdings": "", "candidates": ""}
    current_md = full_md
    
    if "# ğŸ¯ ä»Šæ—¥é€‰è‚¡å‚è€ƒ" in current_md:
        pre, candidates = current_md.split("# ğŸ¯ ä»Šæ—¥é€‰è‚¡å‚è€ƒ", 1)
        parts["candidates"] = "# ğŸ¯ ä»Šæ—¥é€‰è‚¡å‚è€ƒ" + candidates
        current_md = pre
        
    if "# ğŸ“Š æŒä»“åˆ†ææ—¥æŠ¥" in current_md:
        pre, holdings = current_md.split("# ğŸ“Š æŒä»“åˆ†ææ—¥æŠ¥", 1)
        parts["holdings"] = "# ğŸ“Š æŒä»“åˆ†ææ—¥æŠ¥" + holdings
        current_md = pre
        
    parts["market"] = current_md
    
    print("--- Parsed Parts ---")
    print(f"Market: {parts['market'].strip()}")
    print(f"Holdings Header: {parts['holdings'].splitlines()[0]}")
    print(f"Candidates Header: {parts['candidates'].splitlines()[0]}")

if __name__ == "__main__":
    test_split()